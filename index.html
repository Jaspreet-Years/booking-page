<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule a Meeting with Ivan Barashki</title>
    <style>
        @import url('https://fonts.cdnfonts.com/css/boldenvan');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #fbf4e2;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: #bf2c5d;
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-family: 'BoldenVan', sans-serif;
            font-weight: normal;
            -webkit-font-smoothing: antialiased;
            font-size: 32px;
            margin-bottom: 10px;
            margin-top: 20px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            padding: 30px 40px 20px;
            gap: 20px;
        }

        .step {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #999;
            font-weight: 600;
        }

        .step.active {
            color: #bf2c5d;
        }

        .step-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #e0e0e0;
            color: #999;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
        }

        .step.active .step-number {
            background: #bf2c5d;
            color: white;
        }

        .step.completed .step-number {
            background: #e0e0e0;
            color: #999;
        }

        .content {
            padding: 20px 40px 40px;
        }

        /* Step 1: Date & Time Selection */
        .step-content {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .step-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .datetime-selection {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }

        .calendar-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            height: fit-content;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-header h3 {
            font-size: 18px;
            color: #333;
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-nav button {
            width: 36px;
            height: 36px;
            border: none;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .calendar-nav button:hover {
            background: #bf2c5d;
            color: white;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .calendar-day-header {
            text-align: center;
            font-size: 12px;
            font-weight: 600;
            color: #666;
            padding: 8px 0;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            background: white;
            border: 2px solid transparent;
        }

        .calendar-day:hover:not(.disabled):not(.empty) {
            border-color: #ffd47a;
            background: #ffd47a;
        }

        .calendar-day.selected {
            background: #ffd47a;
            color: #303030;
            font-weight: bold;
        }

        .calendar-day.selected:hover {
            background: #ffd47a;
            color: #303030;
            font-weight: bold;
        }

        .calendar-day.disabled {
            color: #ccc;
            cursor: not-allowed;
            background: #fafafa;
        }

        .calendar-day.empty {
            cursor: default;
            background: transparent;
        }

        .calendar-day.today {
            border-color: #ffd47a;
        }

        .timeslots-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
        }

        .timeslots-section h3 {
            font-size: 18px;
            color: #333;
            margin-bottom: 15px;
        }

        .selected-date {
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
            padding: 12px;
            background: white;
            border-radius: 8px;
            text-align: center;
        }

        .time-slots {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            padding-right: 5px;
        }

        .time-slots::-webkit-scrollbar {
            width: 6px;
        }

        .time-slots::-webkit-scrollbar-track {
            background: #e0e0e0;
            border-radius: 3px;
        }

        .time-slots::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 3px;
        }

        .time-slot {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            font-size: 14px;
            font-weight: 500;
        }

        .time-slot:hover {
            border-color: #bf2c5d;
            background: #fff5f8;
            transform: translateY(-2px);
        }

        .time-slot.selected {
            border-color: #bf2c5d;
            background: #bf2c5d;
            color: white;
        }

        .placeholder-message {
            text-align: center;
            padding: 40px 20px;
            color: #999;
            grid-column: 1 / -1;
        }

        .loading {
            text-align: center;
            padding: 40px 20px;
            color: #666;
            grid-column: 1 / -1;
        }

        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Step 2: Contact Information - Two Column Layout */
        .contact-container {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 30px;
            align-items: start;
        }

        .booking-summary {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            position: sticky;
            top: 20px;
        }

        .booking-summary h3 {
            font-size: 18px;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        .summary-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
            color: #666;
            line-height: 1.5;
        }

        .summary-item svg {
            flex-shrink: 0;
            margin-top: 2px;
        }

        /* Host Section Styling */
        .host-section {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 2px solid #e0e0e0;
        }

        .host-header {
            font-size: 13px;
            font-weight: 600;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        .host-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: white;
            border-radius: 10px;
            text-decoration: none;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .host-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
            flex-shrink: 0;
        }

        .host-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .host-details {
            flex: 1;
        }

        .host-name {
            font-size: 15px;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        .host-linkedin {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 12px;
            color: #0077b5;
            font-weight: 500;
        }

        .host-linkedin svg {
            opacity: 0.8;
        }

        .host-profile:hover .host-linkedin {
            color: #005885;
        }

        .contact-form {
            width: 100%;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #bf2c5d;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #ffd47a;
            color: #303030;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 212, 122, 0.25);
        }

        .btn-secondary {
            background: white;
            color: #333;
            border: 2px solid #666;
        }

        .btn-secondary:hover {
            background: #f0f4ff;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .success-message {
            display: none;
            text-align: center;
            padding: 60px 40px;
            animation: fadeIn 0.5s ease-in-out;
        }

        .success-message.active {
            display: block;
        }

        .success-message svg {
            width: 80px;
            height: 80px;
            margin-bottom: 20px;
            color: #28a745;
        }

        .success-message h3 {
            font-size: 28px;
            margin-bottom: 10px;
            color: #333;
        }

        .success-message p {
            color: #666;
            font-size: 16px;
            margin-bottom: 10px;
        }

        .error-message {
            background: #fee;
            border: 1px solid #fcc;
            color: #c33;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        @media (max-width: 768px) {
            .datetime-selection {
                grid-template-columns: 1fr;
            }

            .contact-container {
                grid-template-columns: 1fr;
            }

            .booking-summary {
                position: static;
            }

            .time-slots {
                grid-template-columns: repeat(2, 1fr);
            }

            .step-indicator {
                padding: 20px;
            }

            .step-text {
                font-size: 11px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <svg width="138" height="60" viewBox="0 0 138 60" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M89.2582 34.1785C89.3517 30.4606 89.0927 27.0073 88.4033 23.405C87.9807 20.7533 87.1921 17.9565 88.0528 15.3146C89.1141 12.0925 93.3554 11.5144 96.0583 12.9353C97.1254 13.4723 97.7486 14.3405 97.8012 15.5733C97.8888 15.9947 97.6921 16.5963 97.9667 16.9236C98.0738 16.9628 98.1536 16.906 98.2218 16.8335C99.0981 15.6223 99.7057 14.2229 100.695 13.0823C103.082 10.1738 105.978 7.96304 109.594 6.86354C115.785 4.62143 125.566 8.14726 124.583 15.93C123.969 19.9066 118.369 21.9331 115.927 18.421C112.402 11.4262 104.771 14.5267 102.257 20.5671C98.0037 29.9647 107.053 35.6602 101.41 39.872C98.5976 41.7789 94.8159 41.922 91.6028 41.093C88.5182 40.2835 89.3049 36.5402 89.2582 34.1765V34.1785Z" fill="white"/>
            <path d="M48.1246 31.1152C50.6308 34.1687 54.7552 32.4577 57.7288 31.3758C57.9859 31.2818 58.2546 31.221 58.5272 31.2171C60.4648 31.1896 60.6732 33.4024 59.8475 34.8664C54.5858 44.0269 38.1522 41.9984 36.0589 31.2641C33.7006 21.3393 43.7625 11.3634 53.616 13.4742C60.0851 14.8599 63.2281 21.5803 61.0335 26.825C60.5642 27.9441 59.7735 28.8887 58.7668 29.561C55.7503 31.5718 51.5675 31.8972 48.1226 31.1171L48.1246 31.1152ZM47.3086 23.7813C47.2015 23.991 47.4235 24.2144 47.6397 24.1203C47.6397 24.1203 47.6436 24.1203 47.6436 24.1184C49.0028 23.405 50.5685 23.6911 52.0056 23.3834C52.9131 23.1972 53.0046 22.0448 52.1809 21.6528C50.4263 20.814 48.1577 22.1212 47.3086 23.7793V23.7813Z" fill="white"/>
            <path d="M115.216 40.1013C109.988 40.2385 102.34 35.3407 105.559 29.4904C106.712 27.7442 109.47 26.8975 111.191 28.242C112.157 29.024 112.252 30.4194 112.642 31.5268C112.784 32.1128 113.232 32.5929 113.758 32.836C114.772 33.3063 115.867 32.4009 115.672 31.2935C115.023 27.6305 107.982 26.2253 105.637 23.895C102.029 20.9669 104.377 16.8041 108.272 15.6242C109.873 15.1539 112.293 14.7638 113.09 16.4121C113.175 16.5885 113.214 16.7806 113.242 16.9746C113.501 18.8776 114.663 20.3005 116.581 20.7611C119.672 21.6626 123.194 22.0291 125.523 24.4986C131.432 31.5268 122.871 40.4384 115.214 40.0993L115.216 40.1013Z" fill="white"/>
            <path d="M66.9806 23.9851C68.7819 23.9851 69.1889 23.6186 70.4663 22.229C70.7857 21.8821 71.5082 20.9198 72.3085 20.5279C75.175 19.1226 77.5761 21.6293 76.0124 24.1105C75.9676 24.183 75.9169 24.2477 75.8644 24.3065C75.619 24.4712 75.3386 24.5907 75.0309 24.6475C74.4934 24.7651 73.956 24.7808 73.4146 24.7593C70.6494 24.479 66.4159 23.4501 62.8328 28.9005C60.8562 31.907 61.0626 35.1761 62.7958 38.304C63.7694 40.1326 65.635 41.0538 67.6096 41.4653C70.48 42.1787 73.7885 41.5535 75.839 39.5486C76.5868 38.7391 77.2664 40.4619 77.9091 40.7931C78.244 41.1263 78.6374 41.4124 79.0658 41.6476C79.4221 41.9259 79.8311 42.1376 80.277 42.263C83.3227 43.1234 87.4939 42.0964 87.2933 38.5941C87.1979 37.2633 86.5241 36.0443 86.6 34.692C86.7597 30.5096 87.7217 26.3154 86.8142 22.1506C85.9029 16.0574 80.9995 12.4394 74.0358 12.802C70.3359 12.9941 66.3711 13.4448 63.7091 16.2533C60.3869 19.5166 62.5835 23.9831 66.9787 23.9831L66.9806 23.9851ZM75.1594 30.392C75.1594 30.392 75.1594 30.3939 75.1594 30.3959C75.138 30.5311 75.1068 30.6664 75.064 30.8016C75.0582 30.8231 75.0504 30.8447 75.0445 30.8663C75.0251 30.927 75.0017 30.9858 74.9783 31.0446C74.9666 31.076 74.9511 31.1054 74.9374 31.1367C74.9004 31.219 74.8595 31.3014 74.8167 31.3817C74.7894 31.4307 74.7641 31.4797 74.7349 31.5267C74.7096 31.5679 74.6823 31.6091 74.6551 31.6502C74.6239 31.6992 74.5908 31.7463 74.5557 31.7952C74.5304 31.8305 74.5032 31.8678 74.4759 31.903C74.4175 31.9795 74.3552 32.0559 74.2909 32.1304C73.4867 33.0496 72.2696 33.7101 71.1752 33.6885C70.0593 33.712 69.2804 32.0461 70.665 31.7639C70.8539 31.7404 71.0427 31.7169 71.2336 31.6953C71.331 31.6835 71.4283 31.6718 71.5257 31.66C71.5471 31.6581 71.5685 31.6541 71.59 31.6522C71.6698 31.6424 71.7477 31.6326 71.8256 31.6208C71.8528 31.6169 71.8782 31.613 71.9054 31.6091C71.9794 31.5993 72.0534 31.5875 72.1255 31.5777C72.1527 31.5738 72.18 31.5679 72.2092 31.564C72.2813 31.5522 72.3533 31.5405 72.4254 31.5267C72.4526 31.5209 72.4799 31.5169 72.5071 31.5111C72.5792 31.4973 72.6513 31.4817 72.7233 31.466C72.7486 31.4601 72.7739 31.4542 72.7992 31.4484C72.8732 31.4307 72.9473 31.4131 73.0212 31.3935C73.0427 31.3876 73.066 31.3817 73.0875 31.3758C73.1673 31.3543 73.2452 31.3288 73.3231 31.3033C73.3387 31.2974 73.3542 31.2935 73.3698 31.2876C73.4633 31.2563 73.5548 31.223 73.6463 31.1857C73.9969 31.0427 74.3338 30.8545 74.6434 30.6017C74.7154 30.5429 74.7855 30.4821 74.8556 30.4155C74.8673 30.4037 74.881 30.3939 74.8926 30.3822C74.8926 30.3822 74.8965 30.3802 74.8985 30.3783C74.9102 30.3685 74.9218 30.3587 74.9335 30.3508C74.9355 30.3508 74.9374 30.3489 74.9394 30.3469C74.9511 30.3391 74.9627 30.3312 74.9764 30.3234C74.9764 30.3234 74.9803 30.3234 74.9822 30.3214C74.9958 30.3136 75.0114 30.3077 75.027 30.3038C75.0698 30.292 75.1166 30.292 75.1731 30.3175C75.1711 30.343 75.1633 30.3665 75.1594 30.392Z" fill="white"/>
            <path d="M126.497 37.8572C122.195 39.3565 119.07 41.2635 113.691 42.2493C88.193 46.9178 60.2662 48.7424 35.8446 39.3134C34.4231 38.7646 32.6744 38.3511 32.8048 36.9165C33.5234 29.0691 34.2264 19.4009 41.747 14.9775C44.633 13.0842 49.5325 12.1729 49.6863 7.95716C49.8713 2.32444 43.4432 -0.217535 38.9039 2.15589C31.5138 5.43478 29.5664 13.8564 25.8704 20.2966C22.9844 24.5162 17.2261 20.3142 19.3702 16.0143C20.3283 13.1019 23.6582 11.5085 23.7848 8.2433C24.1704 1.76391 14.3441 -1.08968 10.8077 4.10794C3.62984 13.6879 9.97816 33.1221 23.5024 30.7565C21.5181 39.6113 17.9973 30.5194 7.93735 35.327C-3.7642 40.4991 0.371942 58.6281 12.7882 59.0475C20.2328 59.6021 26.9122 54.3673 30.0007 47.8232C30.2052 47.3979 30.211 47.3979 30.655 47.5253C35.1202 48.7444 39.5037 50.2241 43.9066 51.647C61.8825 57.558 81.6694 59.9099 100.329 58.7182C108.091 57.6756 125.525 56.2939 133.276 49.5616C138.983 44.6031 133.624 35.376 126.499 37.8592L126.497 37.8572ZM12.9829 47.1706C11.982 47.055 11.4328 46.2122 11.7288 45.2185C12.2858 43.6389 13.7638 43.3429 14.3577 43.1626C15.6001 42.7844 16.8737 42.8824 18.2543 42.8882C17.3274 43.8897 15.8883 47.1725 12.9829 47.1725V47.1706ZM107.77 53.748C107.279 53.7989 106.841 53.4383 106.792 52.9464C106.741 52.4525 107.1 52.0115 107.588 51.9625C108.079 51.9115 108.517 52.2722 108.566 52.7641C108.617 53.258 108.258 53.699 107.77 53.748ZM108.457 51.0688C107.119 48.3524 110.015 44.9951 112.92 46.467C113.417 46.8433 113.606 47.296 113.52 47.7233C113.434 48.1486 113.082 48.47 112.655 48.5288C112.081 48.6072 111.298 48.7875 111.491 49.3676C112.229 50.3358 114.369 47.8997 114.535 50.2358C114.591 53.5873 109.536 53.8577 108.459 51.0708L108.457 51.0688ZM114.575 47.6586C114.611 47.296 114.71 46.9393 114.881 46.6179C116.151 44.2327 120.279 44.462 120.955 47.2039C120.971 47.2647 120.98 47.3254 120.988 47.3862C121.564 52.5191 114.079 52.8503 114.577 47.6586H114.575ZM128.873 49.1697C127.671 48.6562 127.932 47.2764 127.438 46.269C127.375 46.1416 127.286 46.0319 127.169 45.9476C126.606 45.538 126.4 46.4415 126.46 47.3783C126.628 50.0105 125.409 49.4695 124.783 47.6645C124.739 47.5332 124.688 47.4058 124.632 47.2803C124.505 47.0001 124.295 46.5826 124.112 46.6649C124.071 46.6845 124.043 46.7237 124.04 46.7668C123.962 47.6331 124.071 48.4994 124.028 49.3617C123.983 49.838 123.745 50.3809 122.822 50.3946C122.287 50.4044 121.987 50.1457 121.744 49.3284C121.582 48.6679 121.14 46.1926 121.405 45.2675C121.798 43.8858 123.354 43.1626 124.254 44.803C124.271 44.8344 124.291 44.8658 124.316 44.8932C124.62 45.2381 125.144 45.2499 125.259 44.6796C125.65 42.4747 128.629 41.9926 129.393 43.9387C129.714 44.6031 130.01 45.638 130.181 46.3553C130.479 47.2627 130.458 49.5852 128.873 49.1697Z" fill="white"/>
            <path d="M118.223 46.7453C117.979 46.2063 116.815 46.4023 116.612 46.8825C116.024 47.9898 117.142 48.7542 118.028 47.9565C118.396 47.641 118.33 47.2255 118.254 46.8472C118.246 46.8119 118.238 46.7786 118.223 46.7453Z" fill="white"/>
            </svg>
            <h1>Schedule a meeting with Ivan</h1>
            <p>Book a 30-minute slot by using the calendar below</p>
        </div>

        <div class="step-indicator">
            <div class="step active" id="step1Indicator">
                <div class="step-number">1</div>
                <span class="step-text">Select Date & Time</span>
            </div>
            <div class="step" id="step2Indicator">
                <div class="step-number">2</div>
                <span class="step-text">Your Information</span>
            </div>
        </div>

        <div class="content">
            <div class="error-message" id="errorMessage"></div>

            <!-- Step 1: Date & Time Selection -->
            <div class="step-content active" id="step1">
                <div class="datetime-selection">
                    <div class="calendar-section">
                        <div class="calendar-header">
                            <h3 id="calendarMonth">November 2025</h3>
                            <div class="calendar-nav">
                                <button onclick="changeMonth(-1)">â—€</button>
                                <button onclick="changeMonth(1)">â–¶</button>
                            </div>
                        </div>
                        <div class="calendar-grid" id="calendar"></div>
                    </div>

                    <div class="timeslots-section">
                        <h3>Available Times</h3>
                        <div class="selected-date" id="selectedDateDisplay">
                            Select a date to see available times
                        </div>
                        <div class="time-slots" id="timeSlots">
                            <div class="placeholder-message">
                                ðŸ‘ˆ Please select a date from the calendar
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Button moved outside the grid -->
                <div class="button-group">
                    <button class="btn btn-primary" id="continueBtn" onclick="goToStep2()" disabled>
                        Next <img src="https://www.years.com/cdn/shop/files/Vector.svg?v=1684229610" alt="" style="width: 8px;" />
                    </button>
                </div>
            </div>

            <!-- Step 2: Contact Information -->
            <div class="step-content" id="step2">
                <div class="contact-container">
                    <!-- Left Side: Booking Summary -->
                    <div class="booking-summary">
                        <h3>Your Booking</h3>
                        <div class="summary-item">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            <span id="summaryDateTime">Date and time</span>
                        </div>
                        <div class="summary-item">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            <span>30 minutes</span>
                        </div>
                        <div class="summary-item">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                            </svg>
                            <span>Microsoft Teams Meeting</span>
                        </div>
                        
                        <!-- Host Information -->
                        <div class="host-section">
                            <div class="host-header">Host</div>
                            <a href="https://www.linkedin.com/in/ivan-barashki-9727a070/" target="_blank" class="host-profile">
                                <div class="host-avatar">
                                    <img src="Ivan.jpeg" alt="Ivan Barashki">
                                </div>
                                <div class="host-details">
                                    <div class="host-name">Ivan Barashki</div>
                                    <div class="host-linkedin">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                                        </svg>
                                        View LinkedIn Profile
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>

                    <!-- Right Side: Contact Form -->
                    <div class="contact-form">
                        <form id="bookingForm">
                            <div class="form-group">
                                <label>Your Name *</label>
                                <input type="text" id="name" required placeholder="John Doe">
                            </div>

                            <div class="form-group">
                                <label>Email Address *</label>
                                <input type="email" id="email" required placeholder="john@example.com">
                            </div>

                            <div class="form-group">
                                <label>Phone Number</label>
                                <input type="tel" id="phone" placeholder="+44 xxxx xxx xxx">
                            </div>

                            <div class="form-group">
                                <label>Additional Notes</label>
                                <textarea id="notes" placeholder="Tell us what you'd like to discuss..."></textarea>
                            </div>

                            <div class="button-group">
                                <button type="button" class="btn btn-secondary" onclick="goToStep1()">
                                    Back
                                </button>
                                <button type="submit" class="btn btn-primary" id="submitBtn">
                                    Confirm Booking
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Success Message -->
            <div class="success-message" id="successMessage">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <h3>Booking Confirmed!</h3>
                <p>You'll receive a calendar invite and confirmation email shortly.</p>
                <button class="btn btn-primary" style="margin-top: 30px; max-width: 300px; margin-left: auto; margin-right: auto;" onclick="resetPage()">
                    Book Another Meeting
                </button>
            </div>
        </div>
    </div>

    <script>
  // Configuration
  const CONFIG = {
    GET_SLOTS_WEBHOOK: 'https://moreyears.app.n8n.cloud/webhook/get-available-slots',
    CREATE_BOOKING_WEBHOOK: 'https://moreyears.app.n8n.cloud/webhook/create-booking'
  };

  // --- Helper: format clicked calendar date as YYYY-MM-DD (no timezone conversion) ---
  function formatDateYMD(date) {
    const y = date.getFullYear();
    const m = String(date.getMonth() + 1).padStart(2, '0');
    const d = String(date.getDate()).padStart(2, '0');
    return `${y}-${m}-${d}`;
  }

  // State
  let currentDate = new Date();
  let selectedDate = null;
  let selectedTime = null;
  let availableSlots = [];

  // Initialize
  renderCalendar();

  function renderCalendar() {
    const year = currentDate.getFullYear();
    const month = currentDate.getMonth();
    
    // Update header
    const monthNames = ['January','February','March','April','May','June','July','August','September','October','November','December'];
    document.getElementById('calendarMonth').textContent = `${monthNames[month]} ${year}`;

    // Get first day of month and days in month
    const firstDay = new Date(year, month, 1).getDay();
    const daysInMonth = new Date(year, month + 1, 0).getDate();
    const today = new Date();
    today.setHours(0,0,0,0);

    // Build calendar
    const calendar = document.getElementById('calendar');
    calendar.innerHTML = '';

    // Day headers
    const dayHeaders = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
    dayHeaders.forEach(day => {
      const header = document.createElement('div');
      header.className = 'calendar-day-header';
      header.textContent = day;
      calendar.appendChild(header);
    });

    // Empty cells before first day
    for (let i = 0; i < firstDay; i++) {
      const empty = document.createElement('div');
      empty.className = 'calendar-day empty';
      calendar.appendChild(empty);
    }

    // Days
    for (let day = 1; day <= daysInMonth; day++) {
      const date = new Date(year, month, day);
      const dayElement = document.createElement('div');
      dayElement.className = 'calendar-day';
      dayElement.textContent = day;

      // Disable past dates
      if (date < today) {
        dayElement.classList.add('disabled');
      } else {
        dayElement.onclick = () => selectDate(date);
      }

      // Mark today
      if (date.toDateString() === today.toDateString()) {
        dayElement.classList.add('today');
      }

      // Mark selected date
      if (selectedDate && date.toDateString() === selectedDate.toDateString()) {
        dayElement.classList.add('selected');
      }

      calendar.appendChild(dayElement);
    }
  }

  function changeMonth(direction) {
    currentDate.setMonth(currentDate.getMonth() + direction);
    renderCalendar();
  }

  async function selectDate(date) {
    selectedDate = date;
    selectedTime = null;
    renderCalendar();

    // Update display
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    document.getElementById('selectedDateDisplay').textContent = date.toLocaleDateString('en-US', options);

    // Scroll to time slots section IMMEDIATELY on mobile (before fetching)
    if (window.innerWidth <= 768) {
      const timeSlotsSection = document.querySelector('.timeslots-section');
      if (timeSlotsSection) {
        timeSlotsSection.scrollIntoView({ 
          behavior: 'smooth', 
          block: 'start' 
        });
      }
    }

    // Fetch available slots (send the clicked date as YYYY-MM-DD)
    await fetchAvailableSlots(date);
  }

  async function fetchAvailableSlots(date) {
    const timeSlots = document.getElementById('timeSlots');
    timeSlots.innerHTML = '<div class="loading"><div class="loading-spinner"></div><div>Loading available slots...</div></div>';
    hideError();

    const dateStr = formatDateYMD(date);

    try {
      const response = await fetch(`${CONFIG.GET_SLOTS_WEBHOOK}?date=${dateStr}`);
      if (!response.ok) throw new Error('Failed to fetch slots');

      const data = await response.json();

      // normalize possible shapes
      let slots = [];
      if (Array.isArray(data) && data.length && data[0].availableSlots) {
        slots = data[0].availableSlots;
      } else if (data.availableSlots) {
        slots = data.availableSlots;
      } else if (Array.isArray(data) && data.length && data[0].json && data[0].json.availableSlots) {
        slots = data[0].json.availableSlots;
      } else {
        // try to find an array in the response
        const maybeArray = Object.values(data).find(v => Array.isArray(v));
        if (maybeArray) slots = maybeArray;
      }

      availableSlots = slots || [];

      if (availableSlots.length > 0) {
        renderTimeSlots(availableSlots);
      } else {
        timeSlots.innerHTML = '<div class="placeholder-message">No available slots for this date.<br>Please select another date.</div>';
        document.getElementById('continueBtn').disabled = true;
      }
    } catch (error) {
      console.error('Error:', error);
      showError('Unable to load available slots. Please try again.');
      timeSlots.innerHTML = '<div class="placeholder-message">Error loading slots.<br>Please try again.</div>';
      document.getElementById('continueBtn').disabled = true;
    }
  }

  function renderTimeSlots(slots) {
    const timeSlots = document.getElementById('timeSlots');
    timeSlots.innerHTML = '';

    slots.forEach(time => {
      const slot = document.createElement('div');
      slot.className = 'time-slot';
      slot.textContent = time;
      slot.onclick = () => selectTime(time, slot);
      timeSlots.appendChild(slot);
    });
  }

  function selectTime(time, element) {
    selectedTime = time;
    document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
    element.classList.add('selected');
    document.getElementById('continueBtn').disabled = false;
    hideError();
  }

  function goToStep2() {
    if (!selectedDate || !selectedTime) return;

    // Update summary
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    const dateStr = selectedDate.toLocaleDateString('en-US', options);
    document.getElementById('summaryDateTime').textContent = `${dateStr} at ${selectedTime}`;

    // Switch steps
    document.getElementById('step1').classList.remove('active');
    document.getElementById('step2').classList.add('active');
    document.getElementById('step1Indicator').classList.remove('active');
    document.getElementById('step1Indicator').classList.add('completed');
    document.getElementById('step2Indicator').classList.add('active');

    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function goToStep1() {
    document.getElementById('step2').classList.remove('active');
    document.getElementById('step1').classList.add('active');
    document.getElementById('step2Indicator').classList.remove('active');
    document.getElementById('step1Indicator').classList.remove('completed');
    document.getElementById('step1Indicator').classList.add('active');
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  document.getElementById('bookingForm').addEventListener('submit', async (e) => {
    e.preventDefault();

    const submitBtn = document.getElementById('submitBtn');
    submitBtn.disabled = true;
    submitBtn.textContent = 'Confirming...';
    hideError();

    const formData = {
      name: document.getElementById('name').value,
      email: document.getElementById('email').value,
      phone: document.getElementById('phone').value,
      date: formatDateYMD(selectedDate),
      time: selectedTime,
      notes: document.getElementById('notes').value,
      duration: 30,
      timestamp: new Date().toISOString()
    };

    try {
      const response = await fetch(CONFIG.CREATE_BOOKING_WEBHOOK, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData)
      });

      if (!response.ok) {
        const errorData = await response.json().catch(() => ({}));
        throw new Error(errorData.message || 'Booking failed');
      }

      // Show success
      document.getElementById('step2').classList.remove('active');
      document.getElementById('successMessage').classList.add('active');
      document.getElementById('step2Indicator').classList.remove('active');
      document.getElementById('step2Indicator').classList.add('completed');
    } catch (error) {
      console.error('Error:', error);
      showError(error.message || 'Something went wrong. Please try again.');
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = 'Confirm Booking';
    }
  });

  function resetPage() {
    // Reset state
    currentDate = new Date();
    selectedDate = null;
    selectedTime = null;
    availableSlots = [];
    
    // Reset form
    document.getElementById('bookingForm').reset();
    
    // Reset UI
    document.getElementById('successMessage').classList.remove('active');
    document.getElementById('step1').classList.add('active');
    document.getElementById('step2').classList.remove('active');
    
    // Reset step indicators
    document.getElementById('step1Indicator').classList.add('active');
    document.getElementById('step1Indicator').classList.remove('completed');
    document.getElementById('step2Indicator').classList.remove('active');
    document.getElementById('step2Indicator').classList.remove('completed');
    
    // Reset continue button
    document.getElementById('continueBtn').disabled = true;
    
    // Reset time slots display
    document.getElementById('timeSlots').innerHTML = '<div class="placeholder-message">ðŸ‘ˆ Please select a date from the calendar</div>';
    document.getElementById('selectedDateDisplay').textContent = 'Select a date to see available times';
    
    // Re-render calendar
    renderCalendar();
    
    // Scroll to top
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function showError(message) {
    const errorEl = document.getElementById('errorMessage');
    errorEl.textContent = message;
    errorEl.style.display = 'block';
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function hideError() {
    document.getElementById('errorMessage').style.display = 'none';
  }
</script>

</body>
</html>
